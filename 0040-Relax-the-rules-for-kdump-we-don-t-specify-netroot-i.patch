From b6a90dbd0b879d3d9746c82102fc5c4ba09f59b9 Mon Sep 17 00:00:00 2001
From: Cong Wang <xiyou.wangcong@gmail.com>
Date: Tue, 29 May 2012 09:17:01 +0200
Subject: [PATCH] Relax the rules for kdump, we don't specify netroot in
 kdump.

https://bugzilla.redhat.com/show_bug.cgi?id=822750
---
 modules.d/40network/parse-bond.sh   |    5 +----
 modules.d/40network/parse-bridge.sh |    3 ---
 2 files changed, 1 insertion(+), 7 deletions(-)

diff --git a/modules.d/40network/parse-bond.sh b/modules.d/40network/parse-bond.sh
index 0a4c006..933ad27 100755
--- a/modules.d/40network/parse-bond.sh
+++ b/modules.d/40network/parse-bond.sh
@@ -15,10 +15,7 @@
 
 # Check if bond parameter is valid
 if getarg bond= >/dev/null ; then
-    if [ -z "$netroot" ] ; then
-        die "No netboot configured, bond is invalid"
-    fi
-    command -v brctl >/dev/null 2>&1 || die "No 'brctl' installed"
+    :
 fi
 
 # We translate list of slaves to space-separated here to mwke it easier to loop over them in ifup
diff --git a/modules.d/40network/parse-bridge.sh b/modules.d/40network/parse-bridge.sh
index aaa5a54..6e1fee1 100755
--- a/modules.d/40network/parse-bridge.sh
+++ b/modules.d/40network/parse-bridge.sh
@@ -13,9 +13,6 @@
 
 # Check if bridge parameter is valid
 if getarg bridge= >/dev/null ; then
-    if [ -z "$netroot" ] ; then
-        die "No netboot configured, bridge is invalid"
-    fi
     command -v brctl >/dev/null 2>&1 || die "No 'brctl' installed" 
 fi
 
