From 3b005dfcce52261fbd68b9298b850f88dc9713b4 Mon Sep 17 00:00:00 2001
From: Harald Hoyer <harald@redhat.com>
Date: Mon, 9 Aug 2010 13:24:08 +0200
Subject: [PATCH] crypt: depend on dm

---
 modules.d/90crypt/check |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/modules.d/90crypt/check b/modules.d/90crypt/check
index 852695b..a34a05e 100755
--- a/modules.d/90crypt/check
+++ b/modules.d/90crypt/check
@@ -3,6 +3,8 @@
 # if cryptsetup is not installed, then we cannot support encrypted devices.
 which cryptsetup >/dev/null 2>&1 || exit 1
 
+[ "$1" = "-d" ] && echo dm
+
 # hostonly checking should only return true if root is on a LUKS device
 # in some way, but I am too lazy to figure out how to do that.
 # Instead, fail if we do not have a LUKS device in use somewhere.
