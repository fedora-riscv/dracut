From ab57132aa5df3f85123cd7991c402b3f9ebdce73 Mon Sep 17 00:00:00 2001
From: Harald Hoyer <harald@redhat.com>
Date: Tue, 25 Aug 2015 11:13:23 +0200
Subject: [PATCH] initqueue: add online queue

(cherry picked from commit d3f61fb5cdaa56053ae8de0203a13722a7fe717a)
---
 modules.d/99base/initqueue.sh | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/modules.d/99base/initqueue.sh b/modules.d/99base/initqueue.sh
index 193cc5c..c301638 100755
--- a/modules.d/99base/initqueue.sh
+++ b/modules.d/99base/initqueue.sh
@@ -13,6 +13,8 @@ while [ $# -gt 0 ]; do
     case "$1" in
         --onetime)
             onetime="yes";;
+        --online)
+            qname="/online";;
         --settled)
             qname="/settled";;
         --finished)
@@ -50,7 +52,7 @@ fi
 {
     [ -n "$onetime" ] && echo '[ -e "$job" ] && rm -f -- "$job"'
     [ -n "$env" ] && echo "$env"
-    echo "$exe $@"
+    echo "$exe" "$@"
 } > "/tmp/$$-${job}.sh"
 
 mv -f "/tmp/$$-${job}.sh" "$hookdir/initqueue${qname}/${job}.sh"
