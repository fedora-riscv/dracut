From 20415e1dfdc88697e0869a086fcb11fd9f4b91e7 Mon Sep 17 00:00:00 2001
From: Harald Hoyer <harald@redhat.com>
Date: Thu, 23 Sep 2010 16:23:33 +0200
Subject: [PATCH 132/133] network: kill -9 dhclient, if normal kill does not succeed

https://bugzilla.redhat.com/show_bug.cgi?id=583348
---
 modules.d/40network/kill-dhclient.sh |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

diff --git a/modules.d/40network/kill-dhclient.sh b/modules.d/40network/kill-dhclient.sh
index 54b3344..fb74385 100755
--- a/modules.d/40network/kill-dhclient.sh
+++ b/modules.d/40network/kill-dhclient.sh
@@ -5,3 +5,11 @@ for f in /tmp/dhclient.*.pid; do
     read PID < $f;
     kill $PID;
 done
+
+sleep 0.1
+
+for f in /tmp/dhclient.*.pid; do
+    [ -e $f ] || continue
+    read PID < $f;
+    kill -9 $PID;
+done
-- 
1.7.3

