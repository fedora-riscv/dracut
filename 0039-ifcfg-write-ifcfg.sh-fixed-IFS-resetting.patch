From 9c10fecf248838a6800d0f953c5e3bf54e452223 Mon Sep 17 00:00:00 2001
From: Harald Hoyer <harald@redhat.com>
Date: Tue, 22 May 2012 11:36:41 +0200
Subject: [PATCH] ifcfg/write-ifcfg.sh: fixed IFS resetting

---
 modules.d/45ifcfg/write-ifcfg.sh |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

diff --git a/modules.d/45ifcfg/write-ifcfg.sh b/modules.d/45ifcfg/write-ifcfg.sh
index d1f6fe6..2b7cb5c 100755
--- a/modules.d/45ifcfg/write-ifcfg.sh
+++ b/modules.d/45ifcfg/write-ifcfg.sh
@@ -43,6 +43,7 @@ print_s390() {
     local CONFIG_LINE
     local i
     local channel
+    local OLD_IFS
 
     _netif="$1"
     # if we find ccw channel, then use those, instead of
@@ -62,9 +63,10 @@ print_s390() {
 
     [ $? -ne 0 -o -z "$CONFIG_LINE" ] && return
 
+    OLD_IFS=$IFS
     IFS=","
-    set $CONFIG_LINE
-    IFS="$OLD_IFS"
+    set -- $CONFIG_LINE
+    IFS=$OLD_IFS
     NETTYPE=$1
     shift
     SUBCHANNELS="$1"
