From f95f348d8975f7e37465226d1fee9791f68e7c92 Mon Sep 17 00:00:00 2001
From: Harald Hoyer <harald@redhat.com>
Date: Thu, 23 Apr 2015 13:46:52 +0200
Subject: [PATCH] kernel-modules: install all HID drivers

Instead of hardcoding a list of useful drivers, which has to be curated
all the time, just include all HID drivers.

(cherry picked from commit 180e9d78516fb4b2ee5baef44521007a860d4dd2)

https://bugzilla.redhat.com/show_bug.cgi?id=1204392
---
 modules.d/90kernel-modules/module-setup.sh | 14 ++++++++------
 1 file changed, 8 insertions(+), 6 deletions(-)

diff --git a/modules.d/90kernel-modules/module-setup.sh b/modules.d/90kernel-modules/module-setup.sh
index 5f96ba9..062aca4 100755
--- a/modules.d/90kernel-modules/module-setup.sh
+++ b/modules.d/90kernel-modules/module-setup.sh
@@ -41,13 +41,15 @@ installkernel() {
             ehci-hcd ehci-pci ehci-platform \
             ohci-hcd ohci-pci \
             uhci-hcd \
-            xhci-hcd
+            xhci-hcd xhci-pci xhci-plat-hcd
 
-        instmods yenta_socket scsi_dh_rdac scsi_dh_emc \
-            atkbd i8042 usbhid hid-apple hid-sunplus hid-cherry hid-logitech \
-            hid-logitech-dj hid-microsoft hid-lcpower firewire-ohci \
-            pcmcia usb_storage nvme hid-hyperv hv-vmbus \
-            sdhci_acpi
+        instmods \
+            "=drivers/hid" \
+            "=drivers/input/serio" \
+            "=drivers/input/keyboard"
+
+        instmods yenta_socket scsi_dh_rdac scsi_dh_emc scsi_dh_alua \
+                 atkbd i8042 usbhid firewire-ohci pcmcia hv-vmbus
 
         if [[ "$(uname -p)" == arm* ]]; then
             # arm specific modules
