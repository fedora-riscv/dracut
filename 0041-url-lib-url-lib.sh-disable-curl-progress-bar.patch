From a07fae1ca1a095b4cca4399a42f7c2c975fd2f5d Mon Sep 17 00:00:00 2001
From: Harald Hoyer <harald@redhat.com>
Date: Tue, 29 May 2012 16:10:46 +0200
Subject: [PATCH] url-lib/url-lib.sh: disable curl progress bar

https://bugzilla.redhat.com/show_bug.cgi?id=817301
https://bugzilla.redhat.com/show_bug.cgi?id=824883
---
 modules.d/45url-lib/url-lib.sh |    4 ----
 1 file changed, 4 deletions(-)

diff --git a/modules.d/45url-lib/url-lib.sh b/modules.d/45url-lib/url-lib.sh
index 5721294..e9ece70 100755
--- a/modules.d/45url-lib/url-lib.sh
+++ b/modules.d/45url-lib/url-lib.sh
@@ -56,10 +56,6 @@ export CURL_HOME="/run/initramfs/url-lib"
 mkdir -p $CURL_HOME
 curl_args="--location --retry 3 --fail --show-error"
 
-# technically "dumb" can handle the progress bar, but the only thing I've ever
-# seen using TERM=dumb is s390 CMS, and it's too dumb for --progress-bar
-[ "$TERM" != "dumb" ] && curl_args="$curl_args --progress-bar"
-
 curl_fetch_url() {
     local url="$1" outloc="$2"
     echo "$url" > /proc/self/fd/0
