From f4334e9bdf5ff85d5f9d9eb12f51a6b78e94101e Mon Sep 17 00:00:00 2001
From: Alexander Tsoy <alexander@tsoy.me>
Date: Sun, 9 Sep 2018 13:57:33 +0300
Subject: [PATCH] base/dracut-lib.sh: use "command -v" in pidof()

"type -P" doesn't work in dash
---
 modules.d/99base/dracut-lib.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/modules.d/99base/dracut-lib.sh b/modules.d/99base/dracut-lib.sh
index b78272a3..f71e757c 100755
--- a/modules.d/99base/dracut-lib.sh
+++ b/modules.d/99base/dracut-lib.sh
@@ -1060,7 +1060,7 @@ if ! command -v pidof >/dev/null 2>/dev/null; then
             debug_on
             return 1
         fi
-        _exe=$(type -P "$1")
+        _exe=$(command -v "$1")
         for i in /proc/*/exe; do
             [ -e "$i" ] || continue
             if [ -n "$_exe" ]; then

