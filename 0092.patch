From 308c4066fee31b08d67413ce7920d63c8d05038e Mon Sep 17 00:00:00 2001
From: Harald Hoyer <harald@hoyer.xyz>
Date: Wed, 17 Jan 2018 09:51:54 +0100
Subject: [PATCH] Merge pull request #359 from yuwata/kmod-version

configure, kmod: bump kmod version to >= 23
---
 configure   | 4 ++--
 dracut.spec | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/configure b/configure
index d8985ad4..b55fb609 100755
--- a/configure
+++ b/configure
@@ -52,8 +52,8 @@ while (($# > 0)); do
     shift
 done
 
-if ! ${PKG_CONFIG} --exists --print-errors " libkmod >= 15 "; then
-    echo "dracut needs pkg-config and libkmod >= 15." >&2
+if ! ${PKG_CONFIG} --exists --print-errors " libkmod >= 23 "; then
+    echo "dracut needs pkg-config and libkmod >= 23." >&2
     exit 1
 fi
 
diff --git a/dracut.spec b/dracut.spec
index c52364b8..d547e847 100644
--- a/dracut.spec
+++ b/dracut.spec
@@ -40,7 +40,7 @@ Source0: http://www.kernel.org/pub/linux/utils/boot/dracut/dracut-%{version}.tar
 Source1: https://www.gnu.org/licenses/lgpl-2.1.txt
 
 BuildRequires: bash git
-BuildRequires: kmod-devel >= 15
+BuildRequires: kmod-devel >= 23
 
 %if 0%{?fedora} || 0%{?rhel}
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)

