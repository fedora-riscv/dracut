From 8d0a0dca62505343a94c6cef86f85ea6aa7c3ded Mon Sep 17 00:00:00 2001
From: "Brian C. Lane" <bcl@redhat.com>
Date: Wed, 9 May 2012 11:15:03 -0700
Subject: [PATCH] Fail to boot if mediacheck fails (#817419)

The return value of checkisomd5 was being ignored.
---
 modules.d/90dmsquash-live/dmsquash-live-root.sh |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/modules.d/90dmsquash-live/dmsquash-live-root.sh b/modules.d/90dmsquash-live/dmsquash-live-root.sh
index 2aaec28..fdbd6f5 100755
--- a/modules.d/90dmsquash-live/dmsquash-live-root.sh
+++ b/modules.d/90dmsquash-live/dmsquash-live-root.sh
@@ -33,7 +33,7 @@ fi
 getarg rd.live.check check || check=""
 if [ -n "$check" ]; then
     [ -x /bin/plymouth ] && /bin/plymouth --hide-splash
-    checkisomd5 --verbose $livedev || :
+    checkisomd5 --verbose $livedev
     if [ $? -ne 0 ]; then
         die "CD check failed!"
         exit 1
